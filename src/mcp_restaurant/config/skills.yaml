intent_classifier_skill:
  task:
    description: >
      Analyze the customer's message: {enquiry}

      Determine the primary intent from these categories:
      - menu_enquiry_skill: Asking about menu items, prices, ingredients, recommendations
      - order_processing_skill: Ready to order food items
      - order_enquiry_skill: Checking status of an existing order
      - reservation_skill: Booking a table for future dining
      - general_skill: Greetings, thanks, or unclear intent
    tools:
    expected_output: >
      A clear skill type output only one of the following 
      (menu_enquiry_skill, order_processing_skill, order_enquiry_skill, reservation_skill, or general_skill)
menu_enquiry_skill:
  task:
    description: >
      "The customer asked: {enquiry}"

      Query the menu database to provide relevant information:
      - Search for specific items they mentioned
      - If asking for recommendations, suggest popular or relevant items
      - Include item names, descriptions, prices, and categories
      - Check availability status (is_available field)
      - Provide dietary information if relevant

      Focus on being helpful and making items sound appealing.
    expected_output: >
      A detailed, organized response with menu item information including
      names, prices, descriptions, categories, and availability.
      Include recommendations if appropriate. Format should be easy to read.
order_processing_skill:
  task:
    description: >
      The customer wants to order: "{enquiry}"

      Process the food order:
      1. Extract all items and quantities from the message
      2. Validate each item exists in the menu database
      3. Get current prices for each item
      4. Calculate subtotal and total
      5. Create order record where customer name: {customer_name}
      6. Create order_items records for each item
      7. Generate an order summary

      If any items are unavailable or unclear, note what needs clarification.
    expected_output: >
      A complete order summary with: order ID, itemized list with quantities
      and prices, subtotal, total amount, and confirmation message.
      Or a list of clarifications needed if order cannot be processed.
reservation_skill:
  task:
    description: >
      The customer wants to make a reservation: "{enquiry}"

      Process the reservation request:
      1. Check if {customer_name} is in customer table.
      2. If {customer_name} is unavailable end the task by asking customer information (Full Name, Phone and or Email) to create a record in customer table

      Do the following if {customer_name} is in customer table
      1. Extract: date, time, number of guests from the message
      2. Validate all required information is present
      3. Check if the requested time slot is reasonable
      4. Create reservation record in the database with id corresponding to {customer_name}
      5. Generate confirmation with all details

    expected_output: >
      A reservation confirmation with: reservation ID, date, time, number of
      guests, customer name, and confirmation message. Or a list of missing
      information that needs to be collected from the customer.
order_enquiry_skill:
  task:
    description: >
      The customer is asking about their order: "{enquiry}"

      Retrieve order status information:
      1. Find the customer's most recent order or specific order by ID
      2. Get order details: items, status, order time
      3. Determine current stage (pending, preparing, completed)
      4. Estimate time remaining if not completed

      Customer Name: {customer_name}
    expected_output: >
      Order status details including order ID, items ordered, current status
      (pending/preparing/completed), order time, and estimated completion time
      if still in progress. Be reassuring and informative.
general_skill:
  task:
    description: >
      Based on the {enquiry}
      Greet back if the enquiry is a simple greetings,
      Ask necessary information if unsure about the request.
    expected_output: >
      Polite and respectful answer to the {enquiry}.
response_skill:
  task:
    description: >
      The customer said: "{enquiry}"

      Based on {answer} by specialist agents, create a final response that:
      1. Directly addresses what the customer asked for
      2. Is conversational, warm, and friendly
      3. Provides clear, actionable information
      4. Ends with an offer to help with anything else
      5. List down the options when responsing multiple items

      Use the information from previous tasks but translate it into natural conversation.
      Don't just list data - engage with the customer.
    expected_output: >
      A conversational response that feels natural and helpful.
      Should read like a friendly restaurant staff member talking to a customer, not like a database query result.
